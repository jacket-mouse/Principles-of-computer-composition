# 基本概念

指令周期：取出并执行一条指令所需的全部时间。
	通常包括：**取指周期、间址周期、执行周期、中断周期**
	不同指令的指令周期的构成、周期的时间不同
		- NOP HLT 只有取指周期
		- ADD mem 由取指和执行周期
	**指令周期流程**
	![[Pasted image 20240105125455.png]]
	**工作周期的标志**
	![[Pasted image 20240105130001.png]]
	FE、IND、EX、INT 边缘触发器
# 指令周期的数据流
## 取指周期数据流

![[Pasted image 20240105130124.png]]
	- PC：程序计数器（英语：Program Counter，缩写：PC）是**一个中央处理器CPU中的寄存器**，其功能是存储下一条要执行的指令（在机器语言中）的内存地址。
	- IR：指令寄存器
	- 地址总线是单向传递的
	- 数据和地址都是通过数据总线传输
	1. PC将指令地址传给MAR
	2. MAR通过地址总线选中存储器的相应单元
	3. CU产生控制信号，通过控制总线控制指令的读出
	4. 指令从存储器经过数据总线传到MDR
	5. MDR将指令传到IR
	6. CU控制PC+1，PC存储下一条指令地址
## 间址周期数据流

![[Pasted image 20240105153406.png]]
	1. MDR将取址周期取到的形式地址传给MAR
	2. 经历上述的2、3、4、5、6
	
## 执行周期数据流

不同指令的执行周期数据流不同
## 中断周期数据流

![[Pasted image 20240105153720.png]]
	1. CU将用于保存程序断点的存储器的特殊地址（如栈指针的内容）送往MAR
	2. MAR将该地址送到地址总线上
	3. CU通过控制总线控制存储器进行写操作
	4. 同时，CU控制PC的内容（程序断点）送到MDR，送到数据总线上，并写入存储器中
	5. CU将中断服务程序的入口地址送至PC，为下一个指令周期的取指周期做好准备
